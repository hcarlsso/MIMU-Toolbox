function [nr_imus, C_nom] = board_settings(target_board)
% Target board specific parameters
if strcmp(target_board,'MIMU4444')
    nr_imus = 32;
    % The IMUs on topside are aligned to each other 
    % and defines the coordinates system of the array.
    C_nom = [1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; %  1
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; %  2
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; %  3
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; %  4
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; %  5
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; %  6
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; %  7
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; %  8
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; %  9
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 10
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 11
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 12
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 13
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 14
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 15
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 16
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 17
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 18
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 19
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 20
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 21
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 22
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 23
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 24
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 25
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 26
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 27
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 28
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 29
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1; % 30
             1  0 0   0 1 0  0 0  1  1  0 0   0 1 0  0 0  1; % 31
             0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1];% 32
         
         % Reorder measurements instead of rotations.
         %     IMU_1 = C_nom(1,:);
         %     IMU_2 = C_nom(2,:);
         %
         %     C_nom(2,:) = IMU_1;
         %     C_nom(1,:) = IMU_2;
         %
         %     IMU_31 = C_nom(31,:);
         %     IMU_32 = C_nom(32,:);
         %
         %     C_nom(32,:) = IMU_31;
         %     C_nom(31,:) = IMU_32;
         
elseif strcmp(target_board,'MIMU3333')
    nr_imus = 14;
    C_nom = [1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1];
elseif strcmp(target_board,'MIMU22BT')
    nr_imus = 4;
    C_nom = [1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1;
        1 0 0   0 1 0   0 0 1   1 0 0   0 1 0   0 0 1;
        0 -1 0  -1 0 0  0 0 -1  0 -1 0  -1 0 0  0 0 -1];
else
    disp('Target board not recognized. Aborting calibration')
    exit;
end

end
